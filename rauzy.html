<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.12.1.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>

<body>
	<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
	<!-- <div id="tester" style="width:600px;height:250px;"></div> -->
</body>

<script>
d3.csv("./points.csv", 
	function(err, rows){
		function unpack(rows, key) {
			return rows.map(
				function(row) { 
					return row[key]; }
			);
		}

		var data0 = {
			x: unpack(rows, 'x0'), 
			y: unpack(rows, 'y0'), 
			z: unpack(rows, 'z0'),
			mode: 'markers',
			marker: {
				size: 12,
				line: {
				color: 'rgba(217, 217, 217, 0.14)',
				width: 0.1},
				opacity: 0.8},
			type: 'scatter3d'
		};

		var data1 = {
			x: unpack(rows, 'x1'), 
			y: unpack(rows, 'y1'), 
			z: unpack(rows, 'z1'),
			mode: 'markers',
			marker: {
				size: 12,
				line: {
				color: 'rgba(107, 217, 37, 0.14)',
				width: 0.1},
				opacity: 0.8},
			type: 'scatter3d'
		};

		var data2 = {
			x: unpack(rows, 'x2'), 
			y: unpack(rows, 'y2'), 
			z: unpack(rows, 'z2'),
			mode: 'markers',
			marker: {
				size: 12,
				line: {
				color: 'rgba(217, 57, 117, 0.14)',
				width: 0.1},
				opacity: 0.8},
			type: 'scatter3d'
		};

		var data3 = {
			x: unpack(rows, 'x3'), 
			y: unpack(rows, 'y3'), 
			z: unpack(rows, 'z3'),
			mode: 'markers',
			marker: {
				size: 12,
				line: {
				color: 'rgba(57, 57, 107, 0.14)',
				width: 0.1},
				opacity: 0.8},
			type: 'scatter3d'
		};
		
		data = [data0, data1, data2, data3];
		Plotly.newPlot('myDiv', data);
	}
);
</script>

<!-- <script>
	TESTER = document.getElementById('tester');
	Plotly.newPlot( TESTER, [{
	x: [1, 2, 3, 4, 5],
	y: [1, 2, 4, 8, 16] }], {
	margin: { t: 0 } } );
</script> -->